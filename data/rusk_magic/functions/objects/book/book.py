#
# 実行ディレクトリを移動/datapacks/下まで移動
import sys
_dir = __file__.split('\\')
_i1 = _dir.index("datapacks")
_dir = "\\".join(_dir[:_i1+2])
sys.path.append(_dir+"\\")

from transformation import *

def main():

    # オブジェクト
    obj = mc_object("book","rusk_magic:")
    # 下半身 上半身
    obj.add_bone("book" ,"root",[0,0,0])
    obj.add_bone("right","book",[0,0,0.125])
    obj.add_bone("left" ,"book",[0,0,0.125])
    obj.add_bone("back" ,"book",[0,0,0.125])
    obj.add_bone("page1","book",[0,0,0.125])
    obj.add_bone("page2","book",[0,0,0.125])
    obj.add_bone("page3","book",[0,0,0.125])
    obj.add_bone("page4","book",[0,0,0.125])

    ## ディスプレイの情報のセット
    obj.add_display("right_book_cover","right","item",translation=[-0.065, 0.000, 0.000],scale=[ 0.010, 0.370, 0.270])
    obj.add_display("right_book_pages","right","item",translation=[-0.030, 0.000, 0.000],scale=[ 0.059, 0.350, 0.250],right_rotation_axis=[ 0.000, 0.000, 1.000],right_rotation_angle=1.571)
    obj.add_display("right_book_page" ,"right","item",translation=[ 0.000, 0.000, 0.000],scale=[ 0.002, 0.350, 0.250])
    obj.add_display("right_book_text" ,"right","text",translation=[ 0.001,-0.150, 0.000],left_rotation_axis=[ 0.000, 1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("left_book_cover" , "left","item",translation=[ 0.065, 0.000, 0.000],scale=[ 0.010, 0.370, 0.270])
    obj.add_display("left_book_pages" , "left","item",translation=[ 0.031, 0.000, 0.000],scale=[ 0.059, 0.350, 0.250],right_rotation_axis=[ 0.000, 0.000, 1.000],right_rotation_angle=1.571)
    obj.add_display("left_book_page"  , "left","item",translation=[ 0.000, 0.000, 0.000],scale=[ 0.002, 0.350, 0.250])
    obj.add_display("left_book_text"  , "left","text",translation=[-0.001,-0.150, 0.000],left_rotation_axis=[ 0.000,-1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("back_cover"      , "back","item",translation=[ 0.000, 0.000, 0.130],left_rotation_axis=[ 0.000, 1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.010, 0.370, 0.120],right_rotation_axis=[ 0.000, 0.000, 1.000],right_rotation_angle=1.571)
    obj.add_display("page1"           ,"page1","item",translation=[ 0.000, 0.000, 0.000],scale=[ 0.002, 0.350, 0.250])
    obj.add_display("page1_front_text","page1","text",translation=[ 0.001,-0.150, 0.000],left_rotation_axis=[ 0.000, 1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("page1_back_text" ,"page1","text",translation=[-0.001,-0.150, 0.000],left_rotation_axis=[ 0.000,-1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("page2"           ,"page2","item",translation=[ 0.000, 0.000, 0.000],scale=[ 0.002, 0.350, 0.250])
    obj.add_display("page2_front_text","page2","text",translation=[ 0.001,-0.150, 0.000],left_rotation_axis=[ 0.000, 1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("page2_back_text" ,"page2","text",translation=[-0.001,-0.150, 0.000],left_rotation_axis=[ 0.000,-1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("page3"           ,"page3","item",translation=[ 0.000, 0.000, 0.000],scale=[ 0.002, 0.350, 0.250])
    obj.add_display("page3_front_text","page3","text",translation=[ 0.001,-0.150, 0.000],left_rotation_axis=[ 0.000, 1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("page3_back_text" ,"page3","text",translation=[-0.001,-0.150, 0.000],left_rotation_axis=[ 0.000,-1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("page4"           ,"page4","item",translation=[ 0.000, 0.000, 0.000],scale=[ 0.002, 0.350, 0.250])
    obj.add_display("page4_front_text","page4","text",translation=[ 0.001,-0.150, 0.000],left_rotation_axis=[ 0.000, 1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])
    obj.add_display("page4_back_text" ,"page4","text",translation=[-0.001,-0.150, 0.000],left_rotation_axis=[ 0.000,-1.000, 0.000],left_rotation_angle=1.571,scale=[ 0.050, 0.050, 1.000])

    # Output
    f = open(_dir+"/data/rusk_magic/functions/objects/book/load.mcfunction","w")
    f.write("#> rusk_magic:objects/book/load\n# Datas of book's poses and animations.\n\ndata modify storage rusk_magic: objects.book set value {}\n\n")

    ## Close
    _pose = pose(obj,"closed")
    f.write(_pose.get_commands()+"\n\n")

    ## Open
    _pose = pose(obj,"opened")
    _pose.rotate("right",[0,1,0], 1.1)
    _pose.rotate( "left",[0,1,0],-1.1)
    _pose.move("back",[0,0,0.052])
    _pose.scale("back",[1,1,0.6])
    _pose.rotate("page1",[0,1,0], 0.5)
    _pose.rotate("page2",[0,1,0], 0.25)
    _pose.rotate("page3",[0,1,0],-0.25)
    _pose.rotate("page4",[0,1,0],-0.5)
    _pose.rotate( "book",[1,0,0], 0.3)
    # Write
    f.write(_pose.get_commands()+"\n\n")

    ## Fluffy
    _anime = animation(obj,"fluffy", True, 80)
    # 1
    _frame:pose = _anime.add_keyframe(0)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.rotate("page2",[0,1,0], 0.95)
    _frame.rotate("page3",[0,1,0],-0.95)
    _frame.rotate("page4",[0,1,0],-1.0)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # 50
    _frame:pose = _anime.add_keyframe(40)
    _frame.rotate("right",[0,1,0], 1.3)
    _frame.rotate( "left",[0,1,0],-1.3)
    _frame.move( "back",[0,0,0.053])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.2)
    _frame.rotate("page2",[0,1,0], 1.1)
    _frame.rotate("page3",[0,1,0],-1.1)
    _frame.rotate("page4",[0,1,0],-1.2)
    _frame.rotate( "book",[1,0,0],0.34)
    _frame.move( "book",[0,-0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # Write
    f.write(_anime.get_commands()+"\n\n")

    ## Fluffy_turned
    _anime = animation(obj,"fluffy_turned", True, 80)
    # 1
    _frame:pose = _anime.add_keyframe(0)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.05)
    _frame.rotate("page2",[0,1,0],-0.90)
    _frame.rotate("page3",[0,1,0],-0.95)
    _frame.rotate("page4",[0,1,0],-1.0)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # 50
    _frame:pose = _anime.add_keyframe(40)
    _frame.rotate("right",[0,1,0], 1.3)
    _frame.rotate( "left",[0,1,0],-1.3)
    _frame.move( "back",[0,0,0.053])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.2)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.rotate("page3",[0,1,0],-1.15)
    _frame.rotate("page4",[0,1,0],-1.2)
    _frame.rotate( "book",[1,0,0],0.34)
    _frame.move( "book",[0,-0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # Write
    f.write(_anime.get_commands()+"\n\n")

    ## Open
    _anime = animation(obj,"open", False, 7)
    # 1
    _frame:pose = _anime.add_keyframe(0)
    _frame.scale( "right",[1.1,0.9,1])
    _frame.scale( "left",[1.1,0.9,1])
    _frame.scale( "back",[1.1,0.9,1])
    _frame.scale( "page1",[1.1,0.9,1])
    _frame.scale( "page2",[1.1,0.9,1])
    _frame.scale( "page3",[1.1,0.9,1])
    _frame.scale( "page4",[1.1,0.9,1])
    _frame.move( "book",[0,1.0,0.3])
    # 4
    _frame:pose = _anime.add_keyframe(4)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0],-0.1)
    _frame.rotate("page2",[0,1,0],-0.5)
    _frame.rotate("page3",[0,1,0],-0.6)
    _frame.rotate("page4",[0,1,0],-0.7)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.015,0])
    _frame.scale( "right",[1.1,0.9,1])
    _frame.scale( "left",[1.1,0.9,1])
    _frame.scale( "back",[1.1,0.9,1])
    _frame.scale( "page1",[1.1,0.9,1])
    _frame.scale( "page2",[1.1,0.9,1])
    _frame.scale( "page3",[1.1,0.9,1])
    _frame.scale( "page4",[1.1,0.9,1])
    _frame.move( "book",[0,1.0,0.3])
    # 5
    _frame:pose = _anime.add_keyframe(5)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 0.1)
    _frame.rotate("page2",[0,1,0],-0.5)
    _frame.rotate("page3",[0,1,0],-0.7)
    _frame.rotate("page4",[0,1,0],-1.0)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # 6
    _frame:pose = _anime.add_keyframe(6)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 0.5)
    _frame.rotate("page2",[0,1,0],-0.5)
    _frame.rotate("page3",[0,1,0],-1.0)
    _frame.rotate("page4",[0,1,0],-1.05)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.013,0])
    _frame.move( "book",[0,1.0,0.3])
    # 8
    _frame:pose = _anime.add_keyframe(8)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.rotate("page2",[0,1,0],-0.2)
    _frame.rotate("page3",[0,1,0],-0.95)
    _frame.rotate("page4",[0,1,0],-1.0)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.013,0])
    _frame.move( "book",[0,1.0,0.3])
    # 10
    _frame:pose = _anime.add_keyframe(10)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.rotate("page2",[0,1,0], 0.95)
    _frame.rotate("page3",[0,1,0],-0.95)
    _frame.rotate("page4",[0,1,0],-1.0)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.011,0])
    _frame.move( "book",[0,1.0,0.3])
    # Write
    f.write(_anime.get_commands()+"\n\n")

    ## Close
    _anime = animation(obj,"close", False, 5)
    # 0
    _frame:pose = _anime.add_keyframe(0)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.rotate("page2",[0,1,0], 0.95)
    _frame.rotate("page3",[0,1,0],-0.95)
    _frame.rotate("page4",[0,1,0],-1.0)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.011,0])
    _frame.scale( "right",[0.85,1.15,1])
    _frame.scale( "left",[0.85,1.15,1])
    _frame.scale( "back",[0.85,1.15,1])
    _frame.scale( "page1",[0.85,1.15,1])
    _frame.scale( "page2",[0.85,1.15,1])
    _frame.scale( "page3",[0.85,1.15,1])
    _frame.scale( "page4",[0.85,1.15,1])
    _frame.move( "book",[0,1.0,0.3])
    # 3
    _frame:pose = _anime.add_keyframe(3)
    _frame.scale( "right",[0.85,1.15,1])
    _frame.scale( "left",[0.85,1.15,1])
    _frame.scale( "back",[0.85,1.15,1])
    _frame.scale( "page1",[0.85,1.15,1])
    _frame.scale( "page2",[0.85,1.15,1])
    _frame.scale( "page3",[0.85,1.15,1])
    _frame.scale( "page4",[0.85,1.15,1])
    _frame.move( "book",[0,0.95,0.4])
    # 5
    _frame:pose = _anime.add_keyframe(5)
    _frame.move( "book",[0,0.9,0.45])
    # Write
    f.write(_anime.get_commands()+"\n\n")
    
    ## Turn
    _anime = animation(obj,"turn", False, 20)
    # 0
    _frame:pose = _anime.add_keyframe(0)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.05)
    _frame.rotate("page2",[0,1,0], 0.95)
    _frame.rotate("page3",[0,1,0],-0.95)
    _frame.rotate("page4",[0,1,0],-1.0)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # 20
    _frame:pose = _anime.add_keyframe(20)
    _frame.rotate("right",[0,1,0], 1.3)
    _frame.rotate( "left",[0,1,0],-1.3)
    _frame.move( "back",[0,0,0.053])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.2)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.rotate("page3",[0,1,0],-1.15)
    _frame.rotate("page4",[0,1,0],-1.2)
    _frame.rotate( "book",[1,0,0],0.34)
    _frame.move( "book",[0,-0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # 1
    _frame:pose = _anime.insert_keyframe(1,0,20,"wave")
    _frame.reset_bone("page2")
    _frame.rotate("page2",[0,1,0], 0.75)
    # 3
    _frame:pose = _anime.insert_keyframe(3,0,20,"wave")
    _frame.reset_bone("page2")
    _frame.rotate("page2",[0,1,0], 0.)
    # 5
    _frame:pose = _anime.insert_keyframe(5,0,20,"wave")
    _frame.reset_bone("page2")
    _frame.rotate("page2",[0,1,0],-1.02)
    # 15
    _frame:pose = _anime.insert_keyframe(15,0,20,"wave")
    _frame.reset_bone("page2")
    _frame.rotate("page2",[0,1,0],-1.05)
    # Write
    f.write(_anime.get_commands()+"\n\n")

    ## Flip_through
    _anime = animation(obj,"flip_through", True, 40)
    # 0
    _frame:pose = _anime.add_keyframe(0)
    _frame.rotate("right",[0,1,0], 1.1)
    _frame.rotate( "left",[0,1,0],-1.1)
    _frame.move( "back",[0,0,0.052])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.rotate("page2",[0,1,0], 1.05)
    _frame.rotate("page3",[0,1,0],-1.05)
    _frame.rotate("page4",[0,1,0],-1.1)
    _frame.rotate( "book",[1,0,0], 0.3)
    _frame.move( "book",[0,0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # 20
    _frame:pose = _anime.add_keyframe(20)
    _frame.rotate("right",[0,1,0], 1.3)
    _frame.rotate( "left",[0,1,0],-1.3)
    _frame.move( "back",[0,0,0.053])
    _frame.scale( "back",[1,1,0.6])
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.rotate("page2",[0,1,0], 1.05)
    _frame.rotate("page3",[0,1,0],-1.05)
    _frame.rotate("page4",[0,1,0],-1.1)
    _frame.rotate( "book",[1,0,0],0.34)
    _frame.move( "book",[0,-0.015,0])
    _frame.move( "book",[0,1.0,0.3])
    # 2
    _frame:pose =_anime.insert_keyframe(2,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page1",[0,1,0], 1.00)
    _frame.rotate("page2",[0,1,0], 0.4)
    _frame.rotate("page3",[0,1,0],-1.05)
    _frame.rotate("page4",[0,1,0],-1.1)
    _frame.scale("page4",[0,0,0])
    # 3
    _frame:pose =_anime.insert_keyframe(3,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page1",[0,1,0], 1.05)
    _frame.rotate("page2",[0,1,0],-0.4)
    _frame.rotate("page3",[0,1,0],-1.1)
    _frame.rotate("page4",[0,1,0], 1.1)
    _frame.scale("page4",[0,0,0])
    # 5
    _frame:pose =_anime.insert_keyframe(5,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page1",[0,1,0], 1.05)
    _frame.rotate("page2",[0,1,0],-1.05)
    _frame.rotate("page3",[0,1,0],-1.1)
    _frame.rotate("page4",[0,1,0], 1.1)
    # 7
    _frame:pose =_anime.insert_keyframe(7,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page4",[0,1,0], 1.00)
    _frame.rotate("page1",[0,1,0], 0.4)
    _frame.rotate("page2",[0,1,0],-1.05)
    _frame.rotate("page3",[0,1,0],-1.1)
    _frame.scale("page3",[0,0,0])
    # 8
    _frame:pose =_anime.insert_keyframe(8,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page4",[0,1,0], 1.05)
    _frame.rotate("page1",[0,1,0],-0.4)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.rotate("page3",[0,1,0], 1.1)
    _frame.scale("page3",[0,0,0])
    # 10
    _frame:pose =_anime.insert_keyframe(10,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page4",[0,1,0], 1.05)
    _frame.rotate("page1",[0,1,0],-1.05)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.rotate("page3",[0,1,0], 1.1)
    # 12
    _frame:pose =_anime.insert_keyframe(12,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page3",[0,1,0], 1.00)
    _frame.rotate("page4",[0,1,0], 0.4)
    _frame.rotate("page1",[0,1,0],-1.05)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.scale("page2",[0,0,0])
    # 13
    _frame:pose =_anime.insert_keyframe(13,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page3",[0,1,0], 1.05)
    _frame.rotate("page4",[0,1,0],-0.4)
    _frame.rotate("page1",[0,1,0],-1.1)
    _frame.rotate("page2",[0,1,0], 1.1)
    _frame.scale("page2",[0,0,0])
    # 15
    _frame:pose =_anime.insert_keyframe(15,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page3",[0,1,0], 1.05)
    _frame.rotate("page4",[0,1,0],-1.05)
    _frame.rotate("page1",[0,1,0],-1.1)
    _frame.rotate("page2",[0,1,0], 1.1)
    # 17
    _frame:pose =_anime.insert_keyframe(17,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page2",[0,1,0], 1.00)
    _frame.rotate("page3",[0,1,0], 0.4)
    _frame.rotate("page4",[0,1,0],-1.05)
    _frame.rotate("page1",[0,1,0],-1.1)
    _frame.scale("page1",[0,0,0])
    # 18
    _frame:pose =_anime.insert_keyframe(18,0,20,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page2",[0,1,0], 1.05)
    _frame.rotate("page3",[0,1,0],-0.4)
    _frame.rotate("page4",[0,1,0],-1.1)
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.scale("page1",[0,0,0])
    # 2
    _frame:pose =_anime.insert_keyframe(22,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page1",[0,1,0], 1.00)
    _frame.rotate("page2",[0,1,0], 0.4)
    _frame.rotate("page3",[0,1,0],-1.05)
    _frame.rotate("page4",[0,1,0],-1.1)
    _frame.scale("page4",[0,0,0])
    # 3
    _frame:pose =_anime.insert_keyframe(23,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page1",[0,1,0], 1.05)
    _frame.rotate("page2",[0,1,0],-0.4)
    _frame.rotate("page3",[0,1,0],-1.1)
    _frame.rotate("page4",[0,1,0], 1.1)
    _frame.scale("page4",[0,0,0])
    # 5
    _frame:pose =_anime.insert_keyframe(25,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page1",[0,1,0], 1.05)
    _frame.rotate("page2",[0,1,0],-1.05)
    _frame.rotate("page3",[0,1,0],-1.1)
    _frame.rotate("page4",[0,1,0], 1.1)
    # 7
    _frame:pose =_anime.insert_keyframe(27,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page4",[0,1,0], 1.00)
    _frame.rotate("page1",[0,1,0], 0.4)
    _frame.rotate("page2",[0,1,0],-1.05)
    _frame.rotate("page3",[0,1,0],-1.1)
    _frame.scale("page3",[0,0,0])
    # 8
    _frame:pose =_anime.insert_keyframe(28,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page4",[0,1,0], 1.05)
    _frame.rotate("page1",[0,1,0],-0.4)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.rotate("page3",[0,1,0], 1.1)
    _frame.scale("page3",[0,0,0])
    # 10
    _frame:pose =_anime.insert_keyframe(30,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page4",[0,1,0], 1.05)
    _frame.rotate("page1",[0,1,0],-1.05)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.rotate("page3",[0,1,0], 1.1)
    # 12
    _frame:pose =_anime.insert_keyframe(32,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page3",[0,1,0], 1.00)
    _frame.rotate("page4",[0,1,0], 0.4)
    _frame.rotate("page1",[0,1,0],-1.05)
    _frame.rotate("page2",[0,1,0],-1.1)
    _frame.scale("page2",[0,0,0])
    # 13
    _frame:pose =_anime.insert_keyframe(33,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page3",[0,1,0], 1.05)
    _frame.rotate("page4",[0,1,0],-0.4)
    _frame.rotate("page1",[0,1,0],-1.1)
    _frame.rotate("page2",[0,1,0], 1.1)
    _frame.scale("page2",[0,0,0])
    # 15
    _frame:pose =_anime.insert_keyframe(35,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page3",[0,1,0], 1.05)
    _frame.rotate("page4",[0,1,0],-1.05)
    _frame.rotate("page1",[0,1,0],-1.1)
    _frame.rotate("page2",[0,1,0], 1.1)
    # 17
    _frame:pose =_anime.insert_keyframe(37,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page2",[0,1,0], 1.00)
    _frame.rotate("page3",[0,1,0], 0.4)
    _frame.rotate("page4",[0,1,0],-1.05)
    _frame.rotate("page1",[0,1,0],-1.1)
    _frame.scale("page1",[0,0,0])
    # 18
    _frame:pose =_anime.insert_keyframe(38,20,0,"wave")
    _frame.reset_bone("page1","page2","page3","page4",)
    _frame.rotate("page2",[0,1,0], 1.05)
    _frame.rotate("page3",[0,1,0],-0.4)
    _frame.rotate("page4",[0,1,0],-1.1)
    _frame.rotate("page1",[0,1,0], 1.1)
    _frame.scale("page1",[0,0,0])
    # Write
    f.write(_anime.get_commands()+"\n\n")

    ## 本棚に仕舞う
    _anime = animation(obj,"put_away", False, 10)
    _frame:pose = _anime.add_keyframe(0)
    _frame.move( "book",[0,0.9,0.45])
    _frame:pose = _anime.add_keyframe(5)
    _frame.rotate( "book",[0,1,0],-1)
    _frame.move( "book",[0.5,0.7,0.4])
    _frame:pose = _anime.add_keyframe(10)
    _frame.rotate( "book",[0,1,0],-1.872)
    _frame.scale( "book",[0.7,0.7,0.7])
    _frame.move( "book",[0.9,0.3,0.5])
    _frame:pose =_anime.insert_keyframe(2,0,5,"wave")
    _frame:pose =_anime.insert_keyframe(8,5,10,"wave")
    f.write(_anime.get_commands()+"\n\n")

    #
    f.close()
    

if __name__ == "__main__":
    main()